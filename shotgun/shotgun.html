<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>shotgun (shotgun) -  (Erlang Documentation)</title>
    <link href="../erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44246018-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>shotgun</h1>
<h2 class="modsummary">Shotgun's main interface.</h2>
<div class="description">
<p>Shotgun's main interface.
        Use the functions provided in this module to open a connection and make
        requests.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-connection_type">connection_type() = http | https</h3></div>
    <div class="type"><h3 id="type-headers">headers() = #{}</h3></div>
    <div class="type"><h3 id="type-http_verb">http_verb() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get | post | head | delete | patch | put | options</h3></div>
    <div class="type"><h3 id="type-options">options() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#{async => boolean(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;async_data => binary | sse,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handle_event =><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun((fin | nofin, reference(), binary()) -> any()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basic_auth => {string(), string()},<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeout => integer() >= 1 | infinity}</h3></div>
    <div class="type"><h3 id="type-response">response() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#{status_code => integer(), header => #{}, body => binary()}</h3></div>
    <div class="type"><h3 id="type-result">result() = {ok, reference() | <a href="#type-response" class="seealso">response()</a>} | {error, term()}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/0">start() -&gt; {ok, [atom()]}</h3>


<div class="description">

<p>Starts the application and all the ones it depends on.</p>
</div></div>
<div class="function">
<h3 id="stop/0">stop() -&gt; ok | {error, term()}</h3>


<div class="description">

<p>Stops the application</p>
</div></div>
<div class="function">
<h3 id="open/1">open(Host::string(), Port::integer()) -&gt; {ok, pid()}</h3>


<div class="description">
<p>Equivalent to <a href="#get/3" class="seealso">get(Host, Port, http)</a>.</p>
</div></div>
<div class="function">
<h3 id="open/1-1">open(Host::string(), Port::integer(), Type::connection_type()) -&gt; {ok, pid()}</h3>


<div class="description">

<p>Opens a connection of the type provided with the host in port specified.</p>
</div></div>
<div class="function">
<h3 id="close/1">close(Pid::pid()) -&gt; ok</h3>


<div class="description">

<p>Closes the connection with the host.</p>
</div></div>
<div class="function">
<h3 id="get/1">get(Pid::pid(), Uri::string()) -&gt; result()</h3>


<div class="description">
<p>Equivalent to <a href="#get/4" class="seealso">get(Pid, Uri, #{}, #{})</a>.</p>
</div></div>
<div class="function">
<h3 id="get/1-1">get(Pid::pid(), Uri::string(), Headers::headers()) -&gt; result()</h3>


<div class="description">
<p>Equivalent to <a href="#get/4" class="seealso">get(Pid, Uri, Headers, #{})</a>.</p>
</div></div>
<div class="function">
<h3 id="get/1-2">get(Pid::pid(), Uri::string(), Headers::headers(), Options::options()) -&gt; result()</h3>


<div class="description">

<p>Performs a <em>GET</em> request to <code>Uri</code> using
  <code>Headers</code>.
  Available options are: <br />
  </p><list>
    <item><p>
      <code>async</code>:
      specifies if the request performed will return a chunked response.
      It currently only works for GET requests. Default value is false.
    </p></item>
    <item><p>
      <code>async_data</code>:
      when async is true the mode specifies how the data received will be
      processed. binary mode treats eat chunk received as raw binary. sse mode
      buffers each chunk, splitting the data received into SSE. Default value
      is binary.
    </p></item>
    <item><p>
      <code>handle_event</code>:
      this function will be called each time either a chunk is received
      (<code>async_data = binary</code>) or an event is parsed
      (<code>async_data = sse</code>). If no handle_event function is provided
      the data received is added to a queue, whose values can be obtained
      calling the <code>shotgun:events/1</code>. Default value is undefined.
    </p></item>
  </list>
</div></div>
<div class="function">
<h3 id="post/1">post(Pid::pid(), Uri::string(), Headers::headers(), Body::iodata(), Options::options()) -&gt; result()</h3>


<div class="description">

<p>Performs a <em>POST</em> request to <code>Uri</code> using
  <code>Headers</code> and <code>Body</code> as the content data.</p>
</div></div>
<div class="function">
<h3 id="delete/1">delete(Pid::pid(), Uri::string(), Headers::headers(), Options::options()) -&gt; result()</h3>


<div class="description">

<p>Performs a <em>DELETE</em> request to <code>Uri</code> using
  <code>Headers</code>.</p>
</div></div>
<div class="function">
<h3 id="head/1">head(Pid::pid(), Uri::string(), Headers::headers(), Options::options()) -&gt; result()</h3>


<div class="description">

<p>Performs a <em>HEAD</em> request to <code>Uri</code> using
  <code>Headers</code>.</p>
</div></div>
<div class="function">
<h3 id="options/1">options(Pid::pid(), Uri::string(), Headers::headers(), Options::options()) -&gt; result()</h3>


<div class="description">

<p>Performs a <em>OPTIONS</em> request to <code>Uri</code> using
  <code>Headers</code>.</p>
</div></div>
<div class="function">
<h3 id="patch/1">patch(Pid::pid(), Uri::string(), Headers::headers(), Body::iodata(), Options::options()) -&gt; result()</h3>


<div class="description">

<p>Performs a <em>PATCH</em> request to <code>Uri</code> using
  <code>Headers</code> and <code>Body</code> as the content data.</p>
</div></div>
<div class="function">
<h3 id="put/1">put(Pid::pid(), Uri::string(), Headers0::headers(), Body::iodata(), Options::options()) -&gt; result()</h3>


<div class="description">

<p>Performs a <em>PUT</em> request to <code>Uri</code> using
  <code>Headers</code> and <code>Body</code> as the content data.</p>
</div></div>
<div class="function">
<h3 id="request/1">request(Pid::pid(), Method::http_verb(), Uri::string(), Headers0::headers(), Body::iodata(), Options::options()) -&gt; result()</h3>


<div class="description">

<p>Performs a request to <code>Uri</code> using the HTTP method
  specified by <code>Method</code>,  <code>Body</code> as the content data and
  <code>Headers</code> as the request's headers.</p>
</div></div>
<div class="function">
<h3 id="events/1">events(Pid::pid()) -&gt; [{nofin | fin, reference(), binary()}]</h3>


<div class="description">

<p>Returns a list of all received events up to now.</p>
</div></div>
<div class="function">
<h3 id="parse_event/1">parse_event(EventBin::binary()) -&gt; {Data::binary(), Id::binary(), EventName::binary()}</h3>


<div class="description">

<p>Parse an SSE event in binary format. For example the following binary
  <code>&lt;&lt;"data: some content\n"&gt;&gt;</code> will be turned into the
  following map <code>#{&lt;&lt;"data"&gt;&gt; =&gt;
  &lt;&lt;"some content"&gt;&gt;}</code>.</p>
</div></div></div>

<authors>

<aname>Federico Carrone</aname>
<email>federico@inaka.net</email>
<aname>Juan Facorro</aname>
<email>juan@inaka.net</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
